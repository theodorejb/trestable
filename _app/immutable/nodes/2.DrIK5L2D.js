import{t as R,a as b,n as $,d as ie,c as ae}from"../chunks/CeOd4cf6.js";import{k as Fe,a5 as je,Z as ta,s as Te,j as Re,m as ra,o as Ne,p as na,b as la,ar as ze,v as xe,h as G,w as sa,z as ia,P as l,ac as oa,a6 as ca,a7 as Pe,t as we,c as ue,A as ua,a8 as Ue,a as qe,a9 as va,as as ye,F as Ge,an as da,at as Ee,au as Ie,av as Be,aj as fa,$ as Me,aw as ma,ax as ga,D as _a,ay as ha,d as ba,az as pa,r as ka,aA as xa,aB as wa,aC as ya,f as Ca,am as Na,al as We,I as J,U as A,J as X,X as L,V as w,W as p,R as O,u as Je,a2 as W,ap as Q,g as U,n as Sa,aD as Ea,aE as fe}from"../chunks/DgN1WsCV.js";import{d as be,s as j,a as Ba}from"../chunks/Bd354aHi.js";import{b as La,p as V,i as M,a as _e,c as Xe}from"../chunks/34amyFAG.js";import{g as Aa}from"../chunks/tSWhWasF.js";import{s as Ta}from"../chunks/B44NfH0l.js";const Ra=[];function Pa(a,e=!1){return he(a,new Map,"",Ra)}function he(a,e,t,r,n=null){if(typeof a=="object"&&a!==null){var v=e.get(a);if(v!==void 0)return v;if(a instanceof Map)return new Map(a);if(a instanceof Set)return new Set(a);if(Fe(a)){var o=Array(a.length);e.set(a,o),n!==null&&e.set(n,o);for(var f=0;f<a.length;f+=1){var h=a[f];f in a&&(o[f]=he(h,e,t,r))}return o}if(je(a)===ta){o={},e.set(a,o),n!==null&&e.set(n,o);for(var g in a)o[g]=he(a[g],e,t,r);return o}if(a instanceof Date)return structuredClone(a);if(typeof a.toJSON=="function")return he(a.toJSON(),e,t,r,a)}if(a instanceof EventTarget)return a;try{return structuredClone(a)}catch{return a}}let De=!1;function Ye(){De||(De=!0,document.addEventListener("reset",a=>{Promise.resolve().then(()=>{var e;if(!a.defaultPrevented)for(const t of a.target.elements)(e=t.__on_r)==null||e.call(t)})},{capture:!0}))}function Ia(a){var e=ra,t=Ne;Te(null),Re(null);try{return a()}finally{Te(e),Re(t)}}function Ke(a,e,t,r=t){a.addEventListener(e,()=>Ia(t));const n=a.__on_r;n?a.__on_r=()=>{n(),r(!0)}:a.__on_r=()=>r(!0),Ye()}function re(a,e){return e}function Ma(a,e,t,r){for(var n=[],v=e.length,o=0;o<v;o++)ga(e[o].e,n,!0);var f=v>0&&n.length===0&&t!==null;if(f){var h=t.parentNode;_a(h),h.append(t),r.clear(),ee(a,e[0].prev,e[v-1].next)}ha(n,()=>{for(var g=0;g<v;g++){var m=e[g];f||(r.delete(m.k),ee(a,m.prev,m.next)),ba(m.e,!f)}})}function ne(a,e,t,r,n,v=null){var o=a,f={flags:e,items:new Map,first:null},h=(e&ze)!==0;if(h){var g=a;o=G?xe(sa(g)):g.appendChild(na())}G&&ia();var m=null,k=!1,s=oa(()=>{var c=t();return Fe(c)?c:c==null?[]:Ge(c)});la(()=>{var c=l(s),i=c.length;if(k&&i===0)return;k=i===0;let x=!1;if(G){var N=o.data===ca;N!==(i===0)&&(o=Pe(),xe(o),we(!1),x=!0)}if(G){for(var B=null,y,C=0;C<i;C++){if(ue.nodeType===8&&ue.data===ua){o=ue,x=!0,we(!1);break}var u=c[C],_=r(u,C);y=Ze(ue,f,B,null,u,_,C,n,e,t),f.items.set(_,y),B=y}i>0&&xe(Pe())}G||Da(c,f,o,n,e,r,t),v!==null&&(i===0?m?Ue(m):m=qe(()=>v(o)):m!==null&&va(m,()=>{m=null})),x&&we(!0),l(s)}),G&&(o=ue)}function Da(a,e,t,r,n,v,o){var K,le,se,S;var f=(n&ma)!==0,h=(n&(Ee|Be))!==0,g=a.length,m=e.items,k=e.first,s=k,c,i=null,x,N=[],B=[],y,C,u,_;if(f)for(_=0;_<g;_+=1)y=a[_],C=v(y,_),u=m.get(C),u!==void 0&&((K=u.a)==null||K.measure(),(x??(x=new Set)).add(u));for(_=0;_<g;_+=1){if(y=a[_],C=v(y,_),u=m.get(C),u===void 0){var T=s?s.e.nodes_start:t;i=Ze(T,e,i,i===null?e.first:i.next,y,C,_,r,n,o),m.set(C,i),N=[],B=[],s=i.next;continue}if(h&&Oa(u,y,_,n),u.e.f&ye&&(Ue(u.e),f&&((le=u.a)==null||le.unfix(),(x??(x=new Set)).delete(u))),u!==s){if(c!==void 0&&c.has(u)){if(N.length<B.length){var P=B[0],I;i=P.prev;var z=N[0],H=N[N.length-1];for(I=0;I<N.length;I+=1)Oe(N[I],P,t);for(I=0;I<B.length;I+=1)c.delete(B[I]);ee(e,z.prev,H.next),ee(e,i,z),ee(e,H,P),s=P,i=H,_-=1,N=[],B=[]}else c.delete(u),Oe(u,s,t),ee(e,u.prev,u.next),ee(e,u,i===null?e.first:i.next),ee(e,i,u),i=u;continue}for(N=[],B=[];s!==null&&s.k!==C;)s.e.f&ye||(c??(c=new Set)).add(s),B.push(s),s=s.next;if(s===null)continue;u=s}N.push(u),i=u,s=u.next}if(s!==null||c!==void 0){for(var q=c===void 0?[]:Ge(c);s!==null;)s.e.f&ye||q.push(s),s=s.next;var Y=q.length;if(Y>0){var oe=n&ze&&g===0?t:null;if(f){for(_=0;_<Y;_+=1)(se=q[_].a)==null||se.measure();for(_=0;_<Y;_+=1)(S=q[_].a)==null||S.fix()}Ma(e,q,oe,m)}}f&&da(()=>{var d;if(x!==void 0)for(u of x)(d=u.a)==null||d.apply()}),Ne.first=e.first&&e.first.e,Ne.last=i&&i.e}function Oa(a,e,t,r){r&Ee&&Ie(a.v,e),r&Be?Ie(a.i,t):a.i=t}function Ze(a,e,t,r,n,v,o,f,h,g){var m=(h&Ee)!==0,k=(h&pa)===0,s=m?k?fa(n):Me(n):n,c=h&Be?Me(o):o,i={i:c,v:s,k:v,a:null,e:null,prev:t,next:r};try{return i.e=qe(()=>f(a,s,c,g),G),i.e.prev=t&&t.e,i.e.next=r&&r.e,t===null?e.first=i:(t.next=i,t.e.next=i.e),r!==null&&(r.prev=i,r.e.prev=i.e),i}finally{}}function Oe(a,e,t){for(var r=a.next?a.next.e.nodes_start:t,n=e?e.e.nodes_start:t,v=a.e.nodes_start;v!==r;){var o=ka(v);n.before(v),v=o}}function ee(a,e,t){e===null?a.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function Qe(a){var e,t,r="";if(typeof a=="string"||typeof a=="number")r+=a;else if(typeof a=="object")if(Array.isArray(a)){var n=a.length;for(e=0;e<n;e++)a[e]&&(t=Qe(a[e]))&&(r&&(r+=" "),r+=t)}else for(t in a)a[t]&&(r&&(r+=" "),r+=t);return r}function Ha(){for(var a,e,t=0,r="",n=arguments.length;t<n;t++)(a=arguments[t])&&(e=Qe(a))&&(r&&(r+=" "),r+=e);return r}function te(a){return typeof a=="object"?Ha(a):a??""}function me(a){if(G){var e=!1,t=()=>{if(!e){if(e=!0,a.hasAttribute("value")){var r=a.value;D(a,"value",null),a.value=r}if(a.hasAttribute("checked")){var n=a.checked;D(a,"checked",null),a.checked=n}}};a.__on_r=t,ya(t),Ye()}}function D(a,e,t,r){var n=a.__attributes??(a.__attributes={});G&&(n[e]=a.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&a.nodeName==="LINK")||n[e]!==(n[e]=t)&&(e==="style"&&"__styles"in a&&(a.__styles={}),e==="loading"&&(a[xa]=t),t==null?a.removeAttribute(e):typeof t!="string"&&Va(a).includes(e)?a[e]=t:a.setAttribute(e,t))}var He=new Map;function Va(a){var e=He.get(a.nodeName);if(e)return e;He.set(a.nodeName,e=[]);for(var t,r=a,n=Element.prototype;n!==r;){t=wa(r);for(var v in t)t[v].set&&e.push(v);r=je(r)}return e}function F(a,e,t){var r=a.__className,n=Fa(e,t);G&&a.className===n?a.__className=n:(r!==n||G&&a.className!==n)&&(e==null&&!t?a.removeAttribute("class"):a.className=n,a.__className=n)}function Fa(a,e){return(a??"")+(e?" "+e:"")}function Ce(a,e,t){if(t){if(a.classList.contains(e))return;a.classList.add(e)}else{if(!a.classList.contains(e))return;a.classList.remove(e)}}function ge(a,e,t=e){Ke(a,"change",r=>{var n=r?a.defaultChecked:a.checked;t(n)}),(G&&a.defaultChecked!==a.checked||Ca(e)==null)&&t(a.checked),Na(()=>{var r=e();a.checked=!!r})}function $e(a,e,t){if(a.multiple)return Ua(a,e);for(var r of a.options){var n=ve(r);if(La(n,e)){r.selected=!0;return}}(!t||e!==void 0)&&(a.selectedIndex=-1)}function ja(a,e){We(()=>{var t=new MutationObserver(()=>{var r=a.__value;$e(a,r)});return t.observe(a,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{t.disconnect()}})}function za(a,e,t=e){var r=!0;Ke(a,"change",n=>{var v=n?"[selected]":":checked",o;if(a.multiple)o=[].map.call(a.querySelectorAll(v),ve);else{var f=a.querySelector(v)??a.querySelector("option:not([disabled])");o=f&&ve(f)}t(o)}),We(()=>{var n=e();if($e(a,n,r),r&&n===void 0){var v=a.querySelector(":checked");v!==null&&(n=ve(v),t(n))}a.__value=n,r=!1}),ja(a)}function Ua(a,e){for(var t of a.options)t.selected=~e.indexOf(ve(t))}function ve(a){return"__value"in a?a.__value:a.value}function qa(a){const e=["sm","md","lg","xl","xxl","xxxl"],t=e.length-1;let r=-1,n=null;for(const v of a){if(!v.breakpoint)continue;const o=e.indexOf(v.breakpoint);if(o>r&&(r=o,n=v),o===t)break}return n==null?void 0:n.breakpoint}function Le(a,e){let t=(e?a.thClass:a.tdClass)||"";return a.breakpoint&&(t+=` d-none d-${a.breakpoint}-table-cell`),t}function Ga(a){const e=a.split(".");let t="";for(const r of e)t+=`[${r}]`;return t}function Se(a,e){const t=a.split(".");let r=e;for(const n of t)if(r=r[n],r===null)return"";return r}function Wa(a,e,t){for(const v of a)if(v[0].startsWith("sort[")){e=e.toSorted(Ja(v[0],v[1]));break}const r=+(a.get("page")??1),n=+(a.get("limit")??t);return{pages:Math.ceil(e.length/n),page:r,params:Object.fromEntries(a),limit:n,items:e.slice((r-1)*n,n*r),error:""}}function Ja(a,e){const t=Xa(a);return(r,n)=>{const v=Se(t,e==="asc"?r:n),o=Se(t,e==="asc"?n:r);return v<o?-1:v>o?1:0}}function Xa(a){let e=a.replaceAll("][",".");return e=e.replaceAll("sort[",""),e.replaceAll("]","")}const Ya=[{id:132,itemName:"Dark Chocolate",purchaser:"Bob Smith",bankName:"Smalltown Bank",office:"Main Office - 123 Test Ave",amount:8.99,invoiceNum:"923485",lastEvent:{id:1,status:"Emailed",color:"chocolate",details:"",date:"2024-04-26T14:05:00-0500"}},{id:149,itemName:"Soft Pillows",purchaser:"Maria Johnson",bankName:"Alliance Credit Union",office:"St. Cloud - 28 Test Blvd",amount:19.99,invoiceNum:"912348",lastEvent:{id:5,status:"Error",color:"var(--bs-danger)",details:"Invalid account number",date:"2024-05-10T12:12:12-0500"}},{id:237,itemName:"250 Pizzas",purchaser:"Jane Doe",bankName:"Premier Capital",office:"Palm Springs - 400 Tusk Blvd",amount:2284,invoiceNum:"956240",lastEvent:{id:3,status:"Submitted",color:"dodgerblue",details:"Estimated Settle Date: 2024-05-13",date:"2024-05-10T08:40:00-0500"}},{id:354,itemName:"New Car",purchaser:"Brian Bandy",bankName:"Building and Loan",office:"Branch Office - 169 3rd St",amount:33270,invoiceNum:"931732",lastEvent:{id:4,status:"Complete",color:"var(--bs-primary)",details:"",date:"2024-05-17T06:00:00-0500"}},{id:446,itemName:"Tennis Racket",purchaser:"Matt Muffalo",bankName:"Cyberbank LLC",office:"Transylvania - 999 Yorktown Road",amount:110,invoiceNum:"935886",lastEvent:{id:12,status:"Expired",color:"blueviolet",details:null,date:"2024-05-25T23:31:00-0500"}},{id:502,itemName:"Porch Swing",purchaser:"Daniel Mario",bankName:"Midwest Trust",office:"Edina - 48 West Circle Dr",amount:825,invoiceNum:"935418",lastEvent:{id:11,status:"Canceled",color:"var(--bs-danger)",details:"Reason: Wrong payment method",date:"2024-05-16T19:26:00-0500"}},{id:557,itemName:"Off Brand Shoes",purchaser:"Susan Savvy",bankName:"Flagstaff Bank",office:"Pine Park - 20 Wide Drive",amount:69.99,invoiceNum:"946578",lastEvent:{id:8,status:"Refund Submitted",color:"dodgerblue",details:"Estimated Settle Date: 2024-06-03",date:"2024-06-01T09:29:30-0500"}},{id:602,itemName:"Bad Checks",purchaser:"Frank Abagnale",bankName:"Federal Reserve",office:"Bronx - 25 Fraud Lane",amount:1500,invoiceNum:"987654",lastEvent:{id:10,status:"Voided",color:"var(--bs-danger)",details:null,date:"2024-06-02T12:27:42-0500"}},{id:658,itemName:"Pet Rock",purchaser:"Andy Samson",bankName:"Whoville Securities",office:"Whoville - 1 Little Circle",amount:4.49,invoiceNum:"904129",lastEvent:{id:2,status:"Form Opened",color:"chocolate",details:"",date:"2024-06-25T19:16:00-0500"}},{id:719,itemName:"4K Television",purchaser:"Jim Peterson",bankName:"Johnson Financial",office:"New Office - 234 5th Ave",amount:2500,invoiceNum:"940367",lastEvent:{id:9,status:"Refund Complete",color:"var(--bs-primary)",details:"",date:"2024-07-09T12:35:48-0500"}},{id:795,itemName:"Park Place",purchaser:"Lori Greene",bankName:"California Bank",office:"Only Office - 677 Boardwalk Ave",amount:7500,invoiceNum:"903784",lastEvent:{date:"2024-07-07T06:54:00-0500",id:6,status:"Returned",color:"var(--bs-danger)",details:"Reason: Not worth it"}}];async function Ka({url:a}){return Wa(a.searchParams,Ya,5)}const Xt=Object.freeze(Object.defineProperty({__proto__:null,load:Ka},Symbol.toStringTag,{value:"Module"}));var Za=$('<svg xmlns="http://www.w3.org/2000/svg" class="pg-img svelte-1v313bx" height="1em" viewBox="0 0 320 512" fill="currentColor"><path d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"></path></svg>'),Qa=R('<li class="page-item"><a class="page-link"> </a></li>'),$a=$('<svg xmlns="http://www.w3.org/2000/svg" class="pg-img svelte-1v313bx" height="1em" viewBox="0 0 320 512" fill="currentColor"><path d="M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"></path></svg>'),et=(a,e,t)=>e.limitChanged(t()),at=R("<option> </option>"),tt=R('<select class="form-select float-sm-end w-auto"><option disabled> </option><!></select>'),rt=R('<nav><div class="row justify-content-evenly g-3 mb-3"><div class="col-sm-9"><ul class="pagination mb-0"><li class="page-item"><a class="page-link"><!></a></li> <!> <li class="page-item"><a class="page-link"><!></a></li></ul></div> <div class="col-sm-3"><!></div></div></nav>');function nt(a,e){J(e,!0);let t=V(e,"params",19,()=>({})),r=V(e,"label",3,"Table page navigation"),n=V(e,"paramName",3,"page"),v=V(e,"prevName",3,"Previous"),o=V(e,"nextName",3,"Next"),f=V(e,"useIcons",3,!1),h=V(e,"limitLabel",3,"Page size"),g=V(e,"limit",15,25),m=V(e,"limits",19,()=>[10,25,50,100,200]),k=O(()=>e.page>e.pages?e.pages:e.page),s=O(()=>[...Array(e.pages).keys()].map(S=>S+1)),c=O(()=>{if(e.pages>5){let S=l(k)-3,d=l(k)+2;S<0?(d+=0-S,S=0):d>=e.pages&&(S-=d-e.pages);let E=l(s).slice(S,d);return E[0]=1,E[E.length-1]=e.pages,E}else return l(s)});function i(S,d){const E=new URLSearchParams(d);return E.set(n(),S.toString()),"?"+E.toString()}var x=rt(),N=w(x),B=w(N),y=w(B),C=w(y),u=w(C),_=w(u);{var T=S=>{var d=Za();b(S,d)},P=S=>{var d=ie();A(()=>j(d,v())),b(S,d)};M(_,S=>{f()?S(T):S(P,!1)})}p(u),p(C);var I=L(C,2);ne(I,17,()=>l(c),re,(S,d)=>{var E=Qa(),Z=w(E),pe=w(Z,!0);p(Z),p(E),A(ke=>{Ce(E,"active",l(d)===l(k)),D(Z,"href",ke),j(pe,l(d))},[()=>i(l(d),t())]),b(S,E)});var z=L(I,2),H=w(z),q=w(H);{var Y=S=>{var d=$a();b(S,d)},oe=S=>{var d=ie();A(()=>j(d,o())),b(S,d)};M(q,S=>{f()?S(Y):S(oe,!1)})}p(H),p(z),p(y),p(B);var K=L(B,2),le=w(K);{var se=S=>{var d=tt();d.__change=[et,e,g];var E=w(d);E.value=((E.__value="")==null,"");var Z=w(E,!0);p(E);var pe=L(E);ne(pe,17,m,re,(ke,de,Ft,jt)=>{var ce=at(),Ae={},aa=w(ce,!0);p(ce),A(()=>{Ae!==(Ae=l(de))&&(ce.value=(ce.__value=l(de))==null?"":l(de)),j(aa,l(de))}),b(ke,ce)}),p(d),A(()=>{D(d,"aria-label",h()),j(Z,h())}),za(d,g),b(S,d)};M(le,S=>{m().length>0&&S(se)})}p(K),p(N),p(x),A((S,d)=>{D(x,"aria-label",r()),Ce(C,"disabled",l(k)<2),D(u,"tabindex",l(k)<2?-1:null),D(u,"aria-label",v()),D(u,"href",S),Ce(z,"disabled",l(k)===e.pages),D(H,"tabindex",l(k)===e.pages?-1:null),D(H,"aria-label",o()),D(H,"href",d)},[()=>i(l(k)-1,t()),()=>i(l(k)+1,t())]),b(a,x),X()}be(["change"]);var lt=$('<path d="M182.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-128 128c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8H288c12.9 0 24.6-7.8 29.6-19.8s2.2-25.7-6.9-34.9l-128-128z"></path>'),st=$('<path d="M182.6 470.6c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-9.2-9.2-11.9-22.9-6.9-34.9s16.6-19.8 29.6-19.8H288c12.9 0 24.6 7.8 29.6 19.8s2.2 25.7-6.9 34.9l-128 128z"></path>'),it=$('<svg class="bi" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 320 512"><!></svg>'),ot=R('<a class="icon-link icon-link-hover svelte-q869va"> <!></a>');function ea(a,e){J(e,!0);let t=Q(""),r=Q("");Je(()=>{if(e.col.property){let h=Object.fromEntries(Object.entries(e.params).filter(([k])=>k!=="page"&&!k.startsWith("sort["))),g=new URLSearchParams(h),m="sort"+Ga(e.col.property);W(r,_e(e.params[m])),l(r)?l(r)==="asc"&&g.set(m,"desc"):g.set(m,"asc"),W(t,"?"+g.toString())}});var n=ae(),v=U(n);{var o=h=>{var g=ot(),m=w(g),k=L(m);{var s=c=>{var i=it(),x=w(i);{var N=y=>{var C=lt();b(y,C)},B=y=>{var C=ae(),u=U(C);{var _=T=>{var P=st();b(T,P)};M(u,T=>{l(r)==="desc"&&T(_)},!0)}b(y,C)};M(x,y=>{l(r)==="asc"?y(N):y(B,!1)})}p(i),b(c,i)};M(k,c=>{(l(r)==="asc"||l(r)==="desc")&&c(s)})}p(g),A(()=>{D(g,"href",l(t)),j(m,`${e.col.name??""} `)}),b(h,g)},f=h=>{var g=ie();A(()=>j(g,e.col.name)),b(h,g)};M(v,h=>{e.col.property?h(o):h(f,!1)})}b(a,n),X()}var ct=R("<td></td>"),ut=R("<td><!></td>"),vt=R("<tr><!><!></tr>");function dt(a,e){J(e,!0);let t=O(()=>e.columns.map(f=>({column:f,value:f.bottomCalc?f.bottomCalc(e.records):null})));var r=vt(),n=w(r);{var v=f=>{var h=ct();A(()=>F(h,`d-${e.maxBreakpoint??""}-none d-print-none px-0`)),b(f,h)};M(n,f=>{e.maxBreakpoint&&f(v)})}var o=L(n);ne(o,17,()=>l(t),re,(f,h)=>{var g=ut(),m=w(g);{var k=c=>{var i=ie();A(x=>j(i,x),[()=>l(h).column.calcFormatter(l(h).value)]),b(c,i)},s=c=>{var i=ie();A(()=>j(i,l(h).value)),b(c,i)};M(m,c=>{l(h).value!==null&&l(h).column.calcFormatter?c(k):c(s,!1)})}p(g),A(c=>F(g,te(c)),[()=>Le(l(h).column,!1)]),b(f,g)}),p(r),A(f=>F(r,te(f)),[()=>e.calcRowClass?e.calcRowClass(l(t)):""]),b(a,r),X()}function Ve(a,e){J(e,!0);var t=ae(),r=U(t);{var n=o=>{var f=ae(),h=U(f);Xe(h,()=>e.col.component,(g,m)=>{m(g,{get record(){return e.record},get updateRecord(){return e.updateRecord}})}),b(o,f)},v=o=>{var f=ae(),h=U(f);{var g=k=>{var s=ie();A(c=>j(s,c),[()=>e.col.getValue(e.record)]),b(k,s)},m=k=>{var s=ae(),c=U(s);{var i=x=>{var N=ie();A(B=>j(N,B),[()=>Se(e.col.property,e.record)]),b(x,N)};M(c,x=>{e.col.property&&x(i)},!0)}b(k,s)};M(h,k=>{e.col.getValue?k(g):k(m,!1)},!0)}b(o,f)};M(r,o=>{e.col.component?o(n):o(v,!1)})}b(a,t),X()}var ft=(a,e)=>W(e,!l(e)),mt=$('<svg xmlns="http://www.w3.org/2000/svg" class="d-block" width="20" height="20" viewBox="0 0 488 488" fill="currentColor"><path d="M 69.136963,200 H 418.86304 C 437.22091,200 452,214.77909 452,233.13696 v 21.72608 C 452,273.22091 437.22091,288 418.86304,288 H 69.136963 C 50.779085,288 36,273.22091 36,254.86304 V 233.13696 C 36,214.77909 50.779085,200 69.136963,200 Z"></path></svg>'),gt=$('<svg xmlns="http://www.w3.org/2000/svg" class="d-block" width="20" height="20" viewBox="0 0 488 488" fill="currentColor"><path d="M 233.13672 36 C 214.77886 36 200 50.77886 200 69.136719 L 200 200 L 69.136719 200 C 50.77886 200 36 214.77886 36 233.13672 L 36 254.86328 C 36 273.22114 50.77886 288 69.136719 288 L 200 288 L 200 418.86328 C 200 437.22114 214.77886 452 233.13672 452 L 254.86328 452 C 273.22114 452 288 437.22114 288 418.86328 L 288 288 L 418.86328 288 C 437.22114 288 452 273.22114 452 254.86328 L 452 233.13672 C 452 214.77886 437.22114 200 418.86328 200 L 288 200 L 288 69.136719 C 288 50.77886 273.22114 36 254.86328 36 L 233.13672 36 z "></path></svg>'),_t=R('<td><button type="button" class="btn btn-link p-0"><!></button></td>'),ht=R("<td><!></td>"),bt=R("<tr><th><!></th><td><!></td></tr>"),pt=R('<tr><td class="svelte-gsjt0f"><table><tbody class="svelte-gsjt0f"></tbody></table></td></tr>'),kt=R("<tr><!><!></tr> <!>",1);function xt(a,e){J(e,!0);let t=Q(!1),r=O(()=>l(t)?"Hide Details":"Show Details");function n(s){e.replace(e.index,s)}var v=kt(),o=U(v),f=w(o);{var h=s=>{var c=_t(),i=w(c);i.__click=[ft,t];var x=w(i);{var N=y=>{var C=mt();b(y,C)},B=y=>{var C=gt();b(y,C)};M(x,y=>{l(t)?y(N):y(B,!1)})}p(i),p(c),A(()=>{F(c,`d-${e.maxBreakpoint??""}-none d-print-none px-0 svelte-gsjt0f`),D(i,"title",l(r)),D(i,"aria-label",l(r))}),b(s,c)};M(f,s=>{e.maxBreakpoint&&s(h)})}var g=L(f);ne(g,17,()=>e.columns,re,(s,c)=>{var i=ht(),x=w(i);Ve(x,{get col(){return l(c)},get record(){return e.record},updateRecord:n}),p(i),A(N=>F(i,te(N),"svelte-gsjt0f"),[()=>Le(l(c),!1)]),b(s,i)}),p(o);var m=L(o,2);{var k=s=>{var c=pt(),i=w(c),x=w(i),N=w(x);ne(N,21,()=>e.columns,re,(B,y)=>{var C=ae(),u=U(C);{var _=T=>{var P=bt(),I=w(P),z=w(I);ea(z,{get col(){return l(y)},get params(){return e.params}}),p(I);var H=L(I),q=w(H);Ve(q,{get col(){return l(y)},get record(){return e.record},updateRecord:n}),p(H),p(P),A(()=>{F(P,`d-${l(y).breakpoint??""}-none svelte-gsjt0f`),F(I,`${l(y).thClass??""} bg-transparent svelte-gsjt0f`),F(H,`${l(y).tdClass??""} bg-transparent svelte-gsjt0f`)}),b(T,P)};M(u,T=>{l(y).breakpoint&&T(_)})}b(B,C)}),p(N),p(x),p(i),p(c),A(()=>{F(c,`d-${e.maxBreakpoint??""}-none`),D(i,"colspan",e.columns.length),F(x,te(e.detailsClass),"svelte-gsjt0f")}),b(s,c)};M(m,s=>{l(t)&&s(k)})}b(a,v),X()}be(["click"]);var wt=(a,e)=>W(e,!l(e)),yt=$('<svg xmlns="http://www.w3.org/2000/svg" class="d-block" width="20" height="20" viewBox="0 0 16 16" fill="currentColor"><path d="M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"></path></svg>'),Ct=$('<svg xmlns="http://www.w3.org/2000/svg" class="d-block" width="20" height="20" viewBox="0 0 16 16" fill="currentColor"><path d="m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"></path></svg>'),Nt=R('<tr class="table-secondary"><td><button type="button" class="btn btn-link p-0 me-2"><!></button> <!></td></tr>'),St=R("<!> <!> <!>",1);function Et(a,e){J(e,!0);let t=Q(!0),r=O(()=>l(t)?"Collapse Group":"Expand Group"),n=O(()=>e.iRecords.map(s=>s.record));var v=St(),o=U(v);{var f=s=>{var c=Nt(),i=w(c),x=w(i);x.__click=[wt,t];var N=w(x);{var B=u=>{var _=yt();b(u,_)},y=u=>{var _=Ct();b(u,_)};M(N,u=>{l(t)?u(B):u(y,!1)})}p(x);var C=L(x,2);Xe(C,()=>e.groupHeader,(u,_)=>{_(u,{get key(){return e.key},get records(){return l(n)}})}),p(i),p(c),A(()=>{D(i,"colspan",e.columns.length),D(x,"title",l(r)),D(x,"aria-label",l(r))}),b(s,c)};M(o,s=>{e.groupHeader&&s(f)})}var h=L(o,2);{var g=s=>{var c=ae(),i=U(c);ne(i,17,()=>e.iRecords,re,(x,N)=>{xt(x,{get columns(){return e.columns},get maxBreakpoint(){return e.maxBreakpoint},get record(){return l(N).record},get index(){return l(N).index},get replace(){return e.replace},get detailsClass(){return e.detailsClass},get params(){return e.params}})}),b(s,c)};M(h,s=>{(l(t)||!e.groupHeader)&&s(g)})}var m=L(h,2);{var k=s=>{dt(s,{get columns(){return e.columns},get maxBreakpoint(){return e.maxBreakpoint},get records(){return l(n)},get calcRowClass(){return e.calcRowClass}})};M(m,s=>{e.hasBottomCalc&&s(k)})}b(a,v),X()}be(["click"]);var Bt=R("<th></th>"),Lt=R("<th><!></th>"),At=R("<table><!><thead><tr><!><!></tr></thead><tbody></tbody></table>");function Tt(a,e){J(e,!0);let t=V(e,"class",3,"trestable table"),r=V(e,"data",15),n=V(e,"theadTrClass",3,"table-primary"),v=V(e,"tbodyClass",3,""),o=V(e,"detailsClass",3,"table table-sm mb-0 no-bottom-border"),f=V(e,"params",19,()=>({}));function h(u,_){r(r()[u]=_,!0)}let g=O(()=>qa(e.columns)),m=O(()=>{const u=new Map;for(const[_,T]of r().entries()){const P=e.groupBy?e.groupBy(T):"all",I=u.get(P),z={index:_,record:T};I?I.push(z):u.set(P,[z])}return u}),k=O(()=>e.columns.some(u=>!!u.bottomCalc));var s=At(),c=w(s);Ta(c,()=>e.children??Sa);var i=L(c),x=w(i),N=w(x);{var B=u=>{var _=Bt();A(()=>F(_,`d-${l(g)??""}-none d-print-none`)),b(u,_)};M(N,u=>{l(g)&&u(B)})}var y=L(N);ne(y,17,()=>e.columns,re,(u,_)=>{var T=Lt(),P=w(T);ea(P,{get col(){return l(_)},get params(){return f()}}),p(T),A(I=>F(T,te(I)),[()=>Le(l(_),!0)]),b(u,T)}),p(x),p(i);var C=L(i);ne(C,21,()=>l(m),re,(u,_)=>{let T=()=>l(_)[0],P=()=>l(_)[1];Et(u,{get columns(){return e.columns},get maxBreakpoint(){return l(g)},get key(){return T()},get iRecords(){return P()},get hasBottomCalc(){return l(k)},replace:h,get detailsClass(){return o()},get groupHeader(){return e.groupHeader},get calcRowClass(){return e.calcRowClass},get params(){return f()}})}),p(C),p(s),A(()=>{F(s,te(t())),F(x,te(n())),F(C,te(v()))}),b(a,s),X()}var Rt=R('<br> <em class="small"> </em>',1),Pt=R('<button class="btn btn-sm btn-outline-primary ms-1">Change</button>'),It=R("<span> </span> <!> <!>",1);function Mt(a,e){J(e,!0);function t(){const m=Pa(e.record);m.lastEvent={...m.lastEvent,status:"Updated",color:"magenta",details:"New description"},e.updateRecord(m)}var r=It(),n=U(r),v=w(n,!0);p(n);var o=L(n,2);{var f=m=>{var k=Rt(),s=L(U(k),2),c=w(s,!0);p(s),A(()=>j(c,e.record.lastEvent.details)),b(m,k)};M(o,m=>{e.record.lastEvent.details&&m(f)})}var h=L(o,2);{var g=m=>{var k=Pt();k.__click=t,b(m,k)};M(h,m=>{e.record.lastEvent.details==="Reason: Not worth it"&&m(g)})}A(()=>{D(n,"style",`color: ${e.record.lastEvent.color??""}`),j(v,e.record.lastEvent.status)}),b(a,r),X()}be(["click"]);var Dt=R("<b> </b> ",1);function Ot(a,e){J(e,!0);var t=Dt(),r=U(t),n=w(r,!0);p(r);var v=L(r);A(()=>{j(n,e.key),j(v,` (${e.records.length??""} items)`)}),b(a,t),X()}var Ht=R("<caption>Payments</caption>"),Vt=R('<main class="flex-shrink-0"><div class="bg-primary-subtle py-3"><div class="container-lg"><h1 class="display-2"><img src="logo.svg" alt="Trestable Logo" width="60"> Trestable</h1> <p class="lead mt-3">A responsive data table component built with Svelte and Bootstrap 5.</p> <p><a href="https://github.com/theodorejb/trestable" class="btn btn-primary"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-github svelte-4f9ueg" viewBox="0 0 16 16"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg> View Readme</a></p></div></div> <div class="container-lg"><h2 class="mt-3">Demo</h2> <!> <!> <div class="form-check mb-1"><input class="form-check-input" type="checkbox" id="enableGrouping"> <label class="form-check-label" for="enableGrouping">Custom grouping function</label></div> <div class="form-check mb-1"><input class="form-check-input" type="checkbox" id="bottomCalc"> <label class="form-check-label" for="bottomCalc">Custom calculation row</label></div> <div class="form-check mb-1"><input class="form-check-input" type="checkbox" id="paginationIcons"> <label class="form-check-label" for="paginationIcons">Use icons for pagination</label></div> <div class="form-check mb-3"><input class="form-check-input" type="checkbox" id="includeXxxlCol"> <label class="form-check-label" for="includeXxxlCol">Include always-hidden column</label></div></div></main>');function Yt(a,e){J(e,!0);let t=O(()=>e.data.pages),r=O(()=>e.data.page),n=O(()=>e.data.params),v=O(()=>e.data.limit),o=Q(_e(e.data.items));Je(()=>{W(o,_e(e.data.items))});let f=Q(!1),h=Q(!1),g=Q(!1),m=Q(!1);const k=O(()=>[{name:"ID",property:"id",breakpoint:"md"},{name:"Item",property:"itemName",breakpoint:"lg"},{name:"Purchaser",property:"purchaser"},{name:"Amount",property:"amount",getValue:d=>i(d.amount),bottomCalc:l(h)?C:void 0,calcFormatter:i,breakpoint:"sm"},{name:"Status",property:"lastEvent.status",component:Mt},{name:"Latest Activity",property:"lastEvent.date",getValue:d=>x(new Date(d.lastEvent.date)),breakpoint:"md",thClass:"text-nowrap"},{name:"Bank Name",property:"bankName",breakpoint:"xl"},{name:"Office",property:"office",breakpoint:"xxxl"},{name:"Invoice #",property:"invoiceNum",breakpoint:"xxl"}]),s=[5,10,50,100,200];let c=O(()=>l(m)?l(k):l(k).filter(d=>d.breakpoint!=="xxxl"));function i(d){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(d)}function x(d){return new Intl.DateTimeFormat("en-US",{dateStyle:"medium",timeStyle:"short"}).format(d)}function N(d){const E=new URLSearchParams(l(n));E.set("limit",d.toString()),E.delete("page"),Aa("?"+E.toString())}let B=O(()=>l(f)?y:void 0);function y(d){return d.amount<1e3?"< $1000":">= $1000"}function C(d){return d.reduce((E,Z)=>E+Z.amount,0)}function u(d){for(let E of d)if(E.column.property==="amount"&&E.value!==null&&E.value>2e3)return"table-success";return"table-danger"}var _=Vt();Ba(d=>{Ea.title="Trestable"});var T=L(w(_),2),P=L(w(T),2);const I=O(()=>l(f)?Ot:void 0);Tt(P,{class:"table caption-top mb-4",get columns(){return l(c)},get params(){return l(n)},get groupBy(){return l(B)},calcRowClass:u,get groupHeader(){return l(I)},get data(){return l(o)},set data(d){W(o,_e(d))},children:(d,E)=>{var Z=Ht();b(d,Z)},$$slots:{default:!0}});var z=L(P,2);nt(z,{get pages(){return l(t)},get page(){return l(r)},get params(){return l(n)},get useIcons(){return l(g)},get limit(){return l(v)},limits:s,limitChanged:N});var H=L(z,2),q=w(H);me(q),fe(2),p(H);var Y=L(H,2),oe=w(Y);me(oe),fe(2),p(Y);var K=L(Y,2),le=w(K);me(le),fe(2),p(K);var se=L(K,2),S=w(se);me(S),fe(2),p(se),p(T),p(_),ge(q,()=>l(f),d=>W(f,d)),ge(oe,()=>l(h),d=>W(h,d)),ge(le,()=>l(g),d=>W(g,d)),ge(S,()=>l(m),d=>W(m,d)),b(a,_),X()}export{Yt as component,Xt as universal};
